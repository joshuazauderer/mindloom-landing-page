<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MindLoom - Your ideas, beautifully woven. Monthly printed magazines curated by AI.">
    <title>MindLoom - Coming Soon</title>
    <style>
        /* Critical CSS - inline to ensure it loads */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; line-height: 1.6; color: #0f172a; background-color: #ffffff; overflow-x: hidden; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
        .header { display: flex !important; justify-content: space-between !important; align-items: center !important; padding: 24px 0 !important; border-bottom: 1px solid #e2e8f0 !important; position: sticky !important; top: 0 !important; background: rgba(255, 255, 255, 0.95) !important; z-index: 100 !important; width: 100% !important; }
        .logo { display: flex !important; align-items: center !important; gap: 8px !important; font-size: 18px !important; flex-shrink: 0 !important; }
        .logo-image { width: 140px !important; height: 44px !important; max-width: 140px !important; max-height: 44px !important; object-fit: contain !important; display: block !important; }
        .logo-text { font-weight: 700; text-transform: uppercase; letter-spacing: 0.12em; font-size: 18px; }
        .nav { display: flex !important; gap: 32px !important; align-items: center !important; flex-shrink: 0 !important; }
        .nav-link { color: #64748b; text-decoration: none; font-weight: 500; }
        .hero { display: grid !important; grid-template-columns: 1fr 1fr !important; gap: 64px !important; align-items: center !important; padding: 80px 0 !important; width: 100% !important; }
        .hero-image { display: flex !important; justify-content: center !important; align-items: flex-start !important; width: 100% !important; }
        .hero-video { width: 100% !important; max-width: 500px !important; height: auto !important; border-radius: 12px !important; display: block !important; }
    </style>
    <link rel="stylesheet" href="/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script defer src="/_vercel/insights/script.js"></script>
    <!-- Vercel Speed Insights -->
    <script defer src="https://va.vercel-scripts.com/v1/script.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <img src="/logo.png" alt="MindLoom Logo" class="logo-image">
                <span class="logo-text">MINDLOOM</span>
            </div>
            <nav class="nav">
                <a href="#about" class="nav-link">About</a>
                <a href="#features" class="nav-link">Features</a>
                <a href="#waitlist" class="nav-link">Join Waitlist</a>
            </nav>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <div class="badge">MINDLOOM.INK</div>
                <h1 class="hero-title">
                    Your ideas, <span class="highlight">beautifully woven</span>
                </h1>
                <p class="hero-description">
                    Each month, MindLoom's AI curates the  most important ideas in your field 
                    and delivers them as a beautifully printed book. No PDFs. No screens. Just print.
                </p>
                <div class="hero-cta">
                    <a href="#waitlist" class="btn btn-primary">Join the Waitlist</a>
                    <a href="#about" class="btn btn-secondary">Learn More</a>
                </div>
            </div>
            <div class="hero-image">
                <video class="hero-video" autoplay muted playsinline controls>
                    <source src="/videos/hero-video.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section about">
            <div class="section-content">
                <h2 class="section-title">What is MindLoom?</h2>
                <p class="section-text">
                    MindLoom transforms the way you consume knowledge. Instead of endless scrolling 
                    through digital content, we deliver carefully curated, beautifully designed 
                    printed books that focus on what matters most in your field.
                </p>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="section features">
            <div class="section-content">
                <h2 class="section-title">Why MindLoom?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸŽ¯</div>
                        <h3 class="feature-title">AI-Curated</h3>
                        <p class="feature-text">Our AI selects the 10 most important ideas each month, saving you time and ensuring quality.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“–</div>
                        <h3 class="feature-title">Beautiful Print</h3>
                        <p class="feature-text">Premium design and high-quality printing. No PDFs, no screensâ€”just beautiful physical books.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“š</div>
                        <h3 class="feature-title">Monthly Essays</h3>
                        <p class="feature-text">Each issue contains in-depth essays with citations, delivered to your door every month.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸŽ¨</div>
                        <h3 class="feature-title">Premium Design</h3>
                        <p class="feature-text">Thoughtfully designed layouts that make reading a pleasure, not a chore.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Waitlist Section -->
        <section id="waitlist" class="section waitlist">
            <div class="section-content">
                <h2 class="section-title">Join the Waitlist</h2>
                <p class="section-text">
                    Be among the first to experience MindLoom. Early waitlist members will receive 
                    exclusive discounts and early access when we launch.
                </p>
                <form class="waitlist-form" id="waitlistForm">
                    <div class="form-group">
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            placeholder="Enter your email address" 
                            required
                            class="form-input"
                        >
                        <button type="submit" class="btn btn-primary">Join Waitlist</button>
                    </div>
                    <p class="form-note">We'll never spam you. Unsubscribe at any time.</p>
                </form>
                <div id="formMessage" class="form-message"></div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="/logo.png" alt="MindLoom Logo" class="logo-image">
                    <span class="logo-text">MINDLOOM</span>
                </div>
                <p class="footer-text">Coming soon. Your ideas, beautifully woven.</p>
                <div class="footer-links">
                    <a href="#about" class="footer-link">About</a>
                    <a href="#features" class="footer-link">Features</a>
                    <a href="#waitlist" class="footer-link">Waitlist</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 MindLoom. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <script>
        // Form handling with API submission
        document.getElementById('waitlistForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const emailInput = document.getElementById('email');
            const email = emailInput.value.trim();
            const messageDiv = document.getElementById('formMessage');
            const submitButton = document.querySelector('#waitlistForm button[type="submit"]');
            
            // Basic email validation
            if (!email || !email.includes('@')) {
                messageDiv.textContent = 'Please enter a valid email address.';
                messageDiv.className = 'form-message error';
                return;
            }
            
            // Disable button and show loading state
            submitButton.disabled = true;
            submitButton.textContent = 'Joining...';
            messageDiv.textContent = '';
            messageDiv.className = 'form-message';
            
            try {
                // Use local API endpoint (same origin - no CORS needed!)
                const apiUrl = '/api/waitlist';
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email }),
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    if (data.alreadyExists) {
                        messageDiv.innerHTML = '<span class="success-icon">âœ“</span> You\'re already on the waitlist!';
                    } else {
                        messageDiv.innerHTML = '<span class="success-icon">âœ“</span> <strong>Success!</strong> You\'ve been added to the waitlist. We\'ll be in touch soon.';
                    }
                    messageDiv.className = 'form-message success';
                    emailInput.value = '';
                    
                    // Scroll to message for better visibility
                    messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    
                    // Clear message after 8 seconds (longer for success)
                    setTimeout(() => {
                        messageDiv.textContent = '';
                        messageDiv.className = 'form-message';
                    }, 8000);
                } else {
                    messageDiv.innerHTML = '<span class="error-icon">âœ•</span> ' + (data.error || 'Something went wrong. Please try again.');
                    messageDiv.className = 'form-message error';
                }
            } catch (error) {
                console.error('Error submitting form:', error);
                messageDiv.textContent = 'Unable to connect. Please try again later.';
                messageDiv.className = 'form-message error';
            } finally {
                // Re-enable button
                submitButton.disabled = false;
                submitButton.textContent = 'Join Waitlist';
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>

